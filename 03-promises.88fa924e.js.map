{"mappings":"YAAA,IAAMA,EAAUC,SAASC,cAAc,SAEvCF,EAAQG,iBAAiB,UAEzB,SAAsBC,GACpBA,EAAEC,iBAEF,IAAMC,EAAWN,EAAQO,MAAMC,MACzBC,EAAUT,EAAQU,KAAKF,MACvBG,EAAYX,EAAQY,OAAOJ,MAE7BK,EAAK,EAETC,YAAW,WACT,IAAMC,EAAaC,aAAY,WAC7B,GAAIH,EAAKF,EACPM,cAAcF,OADhB,CAKA,IAWiBG,EAAUX,EAXvBY,EAAQC,OAAOd,GAAYc,QAAQP,EAAK,GAAKJ,IAWhCS,EATHL,EASaN,EATTY,EAUAE,KAAKC,SAAW,GAG7BC,QAAQC,QAAQ,CAAEN,WAAUX,UAG5BgB,QAAQE,OAAO,CAAEP,WAAUX,WAf7BmB,MAAK,SAAAC,G,IAAET,EAAQS,EAART,SAAUX,EAAKoB,EAALpB,M,OAAWqB,QAAQC,IAAI,uBAAwCC,OAAfZ,EAAS,QAAYY,OAANvB,EAAM,M,IACpFwB,OAAI,SAAAJ,G,IAAET,EAAQS,EAART,SAAUX,EAAKoB,EAALpB,M,OAAWqB,QAAQC,IAAI,sBAAqCC,OAAfZ,EAAS,QAAYY,OAANvB,EAAM,M,IAEvFM,GAAM,C,IACLJ,E,GACFH,E","sources":["src/js/03-promises.js"],"sourcesContent":["const formRef = document.querySelector('.form');\n\nformRef.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  const delayRef = formRef.delay.value;\n  const stepRef = formRef.step.value\n  const amountRef = formRef.amount.value;\n\n  let id = 1;\n\n  setTimeout(() => {\n    const intervalID = setInterval(() => {\n      if (id > amountRef) {\n        clearInterval(intervalID);\n        return;\n      }\n\n      let delay = Number(delayRef) + Number((id - 1) * stepRef);\n\n      createPromise(id, delay)\n        .then(({position, delay}) => console.log(`✅ Fulfilled promise ${position} in ${delay}ms`))\n        .catch(({position, delay}) => console.log(`❌ Rejected promise ${position} in ${delay}ms`));\n      \n      id += 1;\n    }, stepRef)\n  }, delayRef);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n    return Promise.resolve({ position, delay });\n  } else {\n    // Reject\n    return Promise.reject({ position, delay });\n  }\n}\n"],"names":["$ce04d3a99e08e73b$var$formRef","document","querySelector","addEventListener","e","preventDefault","delayRef","delay","value","stepRef","step","amountRef","amount","id","setTimeout","intervalID","setInterval","clearInterval","position","delay1","Number","Math","random","Promise","resolve","reject","then","param","console","log","concat","catch"],"version":3,"file":"03-promises.88fa924e.js.map"}